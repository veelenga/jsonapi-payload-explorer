{"version":3,"sources":["PayloadSample.js","components/JSONEditor.js","components/Toolbar.js","utils/json.js","components/EditorPane.js","components/SearchBar.js","components/TreeView.js","utils/serialize.js","utils/tree.js","components/ViewerPane.js","utils/string.js","App.js","index.js"],"names":["PayloadSample","JSONEditor","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","handleOnChangeEditor","bind","assertThisInitialized","editor","data","value","_ref","removed","text","onPayloadChanged","react_default","a","createElement","className","react_codemirror2","payload","onChange","autoCursor","options","lineNumbers","keyMap","mode","name","json","theme","height","React","Component","Toolbar","children","safeJSONParse","str","JSON","parse","_","EditorPane","state","autoformat","onAutoformattingToggle","onKeyMapSelected","event","target","checked","setState","obj","_this$props","object","_this$state","stringify","Toolbar_Toolbar","type","JSONEditor_JSONEditor","Tree","handleSearchOnChange","searchString","selectPrevMatch","selectNextMatch","currentSearchIndex","totalFound","stats","concat","onClick","TreeView","treeData","root","onSearchStringChange","e","_this$state2","_this2","_this$state3","SearchBar_Tree","index_esm","canDrag","rowHeight","node","subtitleHeight","style","searchQuery","searchFocusOffset","searchFinishCallback","matches","length","TEMP_ID","serializeObject","included","cache","id","tempId","uuid","attributes","method","set","relationships","key","relationshipData","Array","isArray","_object$children","map","relationship","serializeRelationship","push","apply","toConsumableArray","child","visited_relation","get","objectSpread","circular","find","findInIncluded","decorateForTree","keys","expanded","title","attr","filter","v","join","subtitle","attributeList","forEach","ViewerPane","hash","rootObject","arguments","undefined","Map","serialize","TreeView_TreeView","hashCode","i","charCodeAt","App","payloadSample","EditorPane_EditorPane","ViewerPane_ViewerPane","ReactDOM","render","App_App","document","getElementById"],"mappings":"sXAAcA,EAAA,sgCCYOC,yDACnB,SAAAA,EAAYC,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAL,IACjBE,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAH,GAAAQ,KAAAH,KAAMJ,KAEDQ,qBAAuBP,EAAKO,qBAAqBC,KAA1BP,OAAAQ,EAAA,EAAAR,CAAAD,IAHXA,oFAMEU,EAAQC,EAAMC,GAAO,IAAAC,EAChBF,GAAQ,GAA1BG,EADkCD,EAClCC,QAASC,EADyBF,EACzBE,KACXD,GAAWC,GAAQD,EAAQ,KAAOC,EAAK,IAC3CZ,KAAKJ,MAAMiB,iBAAiBJ,oCAG5B,OACEK,EAAAC,EAAAC,cAAA,OAAKC,UAAWjB,KAAKJ,MAAMqB,WACzBH,EAAAC,EAAAC,cAACE,EAAA,aAAD,CACET,MAAOT,KAAKJ,MAAMuB,QAClBC,SAAUpB,KAAKI,qBACfiB,YAAY,EACZC,QAAS,CACPC,aAAa,EACbC,OAAQxB,KAAKJ,MAAM4B,QAAU,UAC7BC,KAAM,CAAEC,KAAM,aAAcC,MAAM,GAClCC,MAAO,YACPC,OAAQ,kBAxBoBC,IAAMC,mBCT/B,SAASC,EAAQpC,GAC9B,OACEkB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,WACZrB,EAAMqC,UCNN,SAASC,EAAcC,GAC5B,GAAmB,kBAATA,EAAmB,OAAO,KACpC,IACE,OAAOC,KAAKC,MAAMF,GAClB,MAAOG,GACP,OAAO,iBCIUC,cACnB,SAAAA,EAAY3C,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAuC,IACjB1C,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAyC,GAAApC,KAAAH,KAAMJ,KAED4C,MAAQ,CAAEC,YAAY,GAC3B5C,EAAK6C,uBAAyB7C,EAAK6C,uBAAuBrC,KAA5BP,OAAAQ,EAAA,EAAAR,CAAAD,IAC9BA,EAAK8C,iBAAmB9C,EAAK8C,iBAAiBtC,KAAtBP,OAAAQ,EAAA,EAAAR,CAAAD,IALPA,sFAQI+C,GACrB,IAAIH,EAAaG,EAAMC,OAAOC,QAC9B9C,KAAK+C,SAAS,CAAEN,wDAGDG,GAAO,IAChBnC,EAAUmC,EAAMC,OAAhBpC,MACFe,EAAmB,QAAVf,GAA6B,UAAVA,EAAoBA,EAAQ,UAC5DT,KAAK+C,SAAS,CAAEvB,4CAGT,IDpBmBwB,ECoBnBC,EAMHjD,KAAKJ,MAJPqB,EAFKgC,EAELhC,UACAiC,EAHKD,EAGLC,OACA/B,EAJK8B,EAIL9B,QACAN,EALKoC,EAKLpC,iBALKsC,EAQsBnD,KAAKwC,MAA5BC,EARCU,EAQDV,WAAYjB,EARX2B,EAQW3B,OAMlB,OAJI0B,GAAUT,ID9BYO,EC+BAE,EAAxB/B,ED9BGiB,KAAKgB,UAAUJ,EAAK,KAAM,ICkC7BlC,EAAAC,EAAAC,cAAA,OAAKC,UAAWA,GAEdH,EAAAC,EAAAC,cAACqC,EAAD,KACEvC,EAAAC,EAAAC,cAAA,SACEC,UAAU,aACVqC,KAAK,WACLlC,SAAUpB,KAAK0C,uBACfI,QAASL,IALb,cAOE3B,EAAAC,EAAAC,cAAA,UACEC,UAAU,SACVG,SAAUpB,KAAK2C,kBACf7B,EAAAC,EAAAC,cAAA,UAAQP,MAAM,WAAd,kBACAK,EAAAC,EAAAC,cAAA,UAAQP,MAAM,OAAd,OACAK,EAAAC,EAAAC,cAAA,UAAQP,MAAM,SAAd,WAKJK,EAAAC,EAAAC,cAACuC,EAAD,CACE/B,OAAQA,EACRL,QAASA,EACTN,iBAAkBA,YAzDYiB,IAAMC,oBCNzByB,yMACV,IAAAP,EAQHjD,KAAKJ,MANP6D,EAFKR,EAELQ,qBACAC,EAHKT,EAGLS,aACAC,EAJKV,EAILU,gBACAC,EALKX,EAKLW,gBACAC,EANKZ,EAMLY,mBACAC,EAPKb,EAOLa,WAGEC,EAAK,GAAAC,OAAMH,EAAN,OAAAG,OAA8BF,GACvC,OACEhD,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACbH,EAAAC,EAAAC,cAAA,yBACAF,EAAAC,EAAAC,cAAA,SACEI,SAAUqC,EACVhD,MAAOiD,IAGPA,GAAgBI,EAAa,GAC7BhD,EAAAC,EAAAC,cAAA,OAAKC,UAAU,WACbH,EAAAC,EAAAC,cAAA,UAAQC,UAAU,WAAWgD,QAASN,GAAtC,YACA7C,EAAAC,EAAAC,cAAA,UAAQC,UAAU,OAAOgD,QAASL,GAAlC,YACA9C,EAAAC,EAAAC,cAAA,SAAOC,UAAU,SAAQH,EAAAC,EAAAC,cAAA,YAAQ+C,aAxBXhC,cCMbmC,cACnB,SAAAA,EAAYtE,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAkE,IACjBrE,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAoE,GAAA/D,KAAAH,KAAMJ,KAED4C,MAAQ,CACXkB,aAAc,GACdG,mBAAoB,EACpBC,WAAY,EACZK,SAAU,CAACtE,EAAKD,MAAMwE,OAGxBvE,EAAKwE,qBAAuBxE,EAAKwE,qBAAqBhE,KAA1BP,OAAAQ,EAAA,EAAAR,CAAAD,IAC5BA,EAAK8D,gBAAkB9D,EAAK8D,gBAAgBtD,KAArBP,OAAAQ,EAAA,EAAAR,CAAAD,IACvBA,EAAK+D,gBAAkB/D,EAAK+D,gBAAgBvD,KAArBP,OAAAQ,EAAA,EAAAR,CAAAD,IAZNA,oFAeEyE,GACnBtE,KAAK+C,SAAS,CAAEW,aAAcY,EAAEzB,OAAOpC,kDAGvB,IAAA0C,EAC2BnD,KAAKwC,MAAxCqB,EADQV,EACRU,mBAAoBC,EADZX,EACYW,WAC5B9D,KAAK+C,SAAS,CACZc,mBAA2C,OAAvBA,GACfC,EAAaD,EAAqB,GAAKC,EACxCA,EAAa,8CAIF,IAAAS,EAC0BvE,KAAKwC,MAAxCqB,EADSU,EACTV,mBAAoBC,EADXS,EACWT,WAC5B9D,KAAK+C,SAAS,CACZc,mBAA2C,OAAvBA,GACfA,EAAqB,GAAKC,EAC3B,qCAIC,IAAAU,EAAAxE,KAAAyE,EAMHzE,KAAKwC,MAJP2B,EAFKM,EAELN,SACAT,EAHKe,EAGLf,aACAG,EAJKY,EAILZ,mBACAC,EALKW,EAKLX,WAGF,OACEhD,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACbH,EAAAC,EAAAC,cAACqC,EAAD,KACEvC,EAAAC,EAAAC,cAAC0D,EAAD,CACEhB,aAAcA,EACdG,mBAAoBA,EAAqB,EACzCC,WAAYA,EACZL,qBAAsBzD,KAAKqE,qBAC3BV,gBAAiB3D,KAAK2D,gBACtBC,gBAAiB5D,KAAK4D,mBAI1B9C,EAAAC,EAAAC,cAAC2D,EAAA,EAAD,CACEC,SAAS,EACTC,UAAW,SAAC3B,GAAD,OA/DM,IA+D4BA,EAAO4B,KAAKC,gBAAkB,IAC3EZ,SAAUA,EACVa,MAAO,CAAEnD,OAAQ,QACjBT,SAAU,SAAC+C,GAAD,OAAcK,EAAKzB,SAAS,CAAEoB,cACxCc,YAAavB,EACbwB,kBAAmBrB,EACnBsB,qBAAsB,SAACC,GAAD,OACpBZ,EAAKzB,SAAS,CACZe,WAAYsB,EAAQC,OACpBxB,mBAAoBuB,EAAQC,OAAS,EACjCxB,EAAqBuB,EAAQC,OAC7B,eAxEoBtD,+BCThCuD,EAAU,UAOhB,SAASC,EAAgB/E,EAAMgF,EAAUC,GACvC,IAAIvC,EAAS,CACXwC,GAAIlF,EAAKkF,GACTC,OAAQnF,EAAK8E,GACbM,KAAMA,EAAKpF,GACX8C,KAAM9C,EAAK8C,KACXuC,WAAYrF,EAAKqF,YAAc,GAC/BC,OAAQtF,EAAKsF,OACb7D,SAAU,IAGZwD,EAAMM,IAAI7C,EAAO0C,KAAM1C,GAXuB,IAaxC8C,EAAkBxF,EAAlBwF,cAEN,IAAK,IAAIC,KAAOD,EAAe,CAC7B,IAAIE,EAAmBF,EAAcC,GAAd,KAEvB,GAAIE,MAAMC,QAAQF,GAAmB,KAAAG,EAC/BpE,EAAWiE,EACZI,IAAI,SAACC,GAAD,OAAkBC,EAAsBD,EAAcf,EAAUC,MACvEY,EAAAnD,EAAOjB,UAASwE,KAAhBC,MAAAL,EAAAvG,OAAA6G,EAAA,EAAA7G,CAAwBmC,QACnB,CACL,IAAI2E,EAAQJ,EAAsBN,EAAkBV,EAAUC,GAC9DvC,EAAOjB,SAASwE,KAAKG,IAIzB,OAAO1D,EAGT,SAASsD,EAAsBhG,EAAMgF,EAAUC,GAC7C,IAAIoB,EAAmBpB,EAAMqB,IAAIlB,EAAKpF,IACtC,GAAIqG,EACF,OAAO/G,OAAAiH,EAAA,EAAAjH,CAAA,GACF+G,EADL,CAEEG,UAAU,EACV/E,SAAU,KAId,IACIsE,EAAehB,EAOrB,SAAwB/E,EAAMgF,GAAU,IAChCE,EAAgClF,EAAhCkF,GAAIpC,EAA4B9C,EAA5B8C,KAAiBqC,EAAWnF,EAArB8E,GAEjB,GAAMI,EACJ,OAAOF,EAASyB,KAAK,SAACzG,GAAD,OAAUA,EAAK8C,OAASA,GAAQ9C,EAAKkF,KAAOA,IAC5D,GAAMC,EACX,OAAOH,EAASyB,KAAK,SAACzG,GAAD,OAAUA,EAAK8C,OAASA,GAAQ9C,EAAK8E,KAAaK,IAGzE,OAAO,KAjBgBuB,CAAe1G,EAAMgF,IAAahF,EACJgF,EAAUC,GAI/D,OAFKc,EAAaT,SAAQS,EAAaT,OAAStF,EAAKsF,QAE9CS,EAeT,SAASX,EAAKpF,GACZ,SAAAwD,OAAUxD,EAAK8C,KAAf,KAAAU,OAAuBxD,EAAKkF,IAAMlF,EAAK8E,ICnE1B,SAAS6B,EAAgBjE,GACtC,OAAmC,IAA/BpD,OAAOsH,KAAKlE,GAAQmC,OAAqB,IAC7CnC,EAAOmE,UAAW,EAClBnE,EAAOoE,MAST,SAAepE,GACb,IAAKA,EAAOwC,KAAOxC,EAAOyC,OACxB,OAAOzC,EAAOI,KAGhB,IAAIiE,EAAOrE,EAAOwC,GAAK,KAAO,UAC9B,MAAO,CACLxC,EAAOI,KACPJ,EAAOwC,IAAMxC,EAAOyC,OACpB4B,EACArE,EAAO4C,QACP0B,OAAO,SAACC,GAAD,OAAOA,IAAGC,KAAK,OApBTJ,CAAMpE,GACrBA,EAAOyE,SAsBT,SAAkBzE,GAChB,IAAI0E,EAAgB,GACpB,IAAI,IAAI3B,KAAO/C,EAAO2C,WAAY,CAChC,IAAIpF,EAAQyC,EAAO2C,WAAWI,GACR,kBAAXxF,IACTA,EAAQ2B,KAAKgB,UAAU3C,IAEzBmH,EAAcnB,KACZ3F,EAAAC,EAAAC,cAAA,MAAIiF,IAAKA,GAAMA,EAAf,KAAsBxF,IAG1B,OAAQK,EAAAC,EAAAC,cAAA,UAAM4G,GAjCID,CAASzE,GAC3BA,EAAO6B,eAAyD,GAAxCjF,OAAOsH,KAAKlE,EAAO2C,YAAYR,OAEvDnC,EAAOjB,SAAS4F,QAAQ,SAACjB,GAAD,OAAWO,EAAgBP,KAE5C1D,OCLY4E,mLACV,IAAA7E,EAC2BjD,KAAKJ,MAAjCsD,EADCD,EACDC,OAAQjC,EADPgC,EACOhC,UAAW8G,EADlB9E,EACkB8E,KACrBC,EAAa9E,EAASiE,EFPf,SAAmBjE,GAA2B,IAAnBuC,EAAmBwC,UAAA5C,OAAA,QAAA6C,IAAAD,UAAA,GAAAA,UAAA,GAAX,IAAIE,IACpD,OAAKjF,EAAO1C,KACL+E,EAAgBrC,EAAO1C,KAAM0C,EAAOsC,UAAY,GAAIC,GADlC,GEMmB2C,CAAUlF,IAAW,GAE/D,OACEpC,EAAAC,EAAAC,cAAA,OAAKC,UAAWA,GACdH,EAAAC,EAAAC,cAACqH,EAAD,CAAUjE,KAAM4D,EAAY/B,IAAK8B,YAPDhG,aCNzB,SAASuG,EAASnG,GAC/B,IAAcoG,EAAVR,EAAO,EACX,GAAmB,IAAf5F,EAAIkD,OAAc,OAAO0C,EAC7B,IAAKQ,EAAI,EAAGA,EAAIpG,EAAIkD,OAAQkD,IAE1BR,GAAUA,GAAQ,GAAKA,EADf5F,EAAIqG,WAAWD,GAEvBR,GAAQ,EAEV,OAAOA,aCGYU,cACnB,SAAAA,EAAY7I,GAAO,IAAAC,EAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAyI,GACjB5I,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAA2I,GAAAtI,KAAAH,KAAMJ,IAEN,IAAIuB,EAAUuH,EACVxF,EAAShB,EAAcwG,GAJV,OAKjB7I,EAAK2C,MAAQ,CAAErB,UAAS+B,UAExBrD,EAAKgB,iBAAmBhB,EAAKgB,iBAAiBR,KAAtBP,OAAAQ,EAAA,EAAAR,CAAAD,IAPPA,gFAUFsB,GACf,IAAI+B,EAAShB,EAAcf,GAC3BnB,KAAK+C,SAAS,CAAE5B,UAAS+B,4CAGlB,IAAAC,EACmBnD,KAAKwC,MAAzBU,EADCC,EACDD,OAAQ/B,EADPgC,EACOhC,QAEd,OACEL,EAAAC,EAAAC,cAAA,OAAKC,UAAU,OACbH,EAAAC,EAAAC,cAAC2H,EAAD,CACE1H,UAAU,YACViC,OAAQA,EACR/B,QAASA,EACTN,iBAAkBb,KAAKa,mBAGzBC,EAAAC,EAAAC,cAAC4H,EAAD,CACE3H,UAAU,YACViC,OAAQA,EACR6E,KAAMO,EAASnH,aA/BQW,IAAMC,kBCNvC8G,IAASC,OAAOhI,EAAAC,EAAAC,cAAC+H,EAAD,MAASC,SAASC,eAAe","file":"static/js/main.b5a04f42.chunk.js","sourcesContent":["export default `{\n  \"data\": {\n    \"type\": \"tours\",\n    \"attributes\": {\n    },\n    \"relationships\": {\n      \"events\": {\n        \"data\": [\n          {\n            \"temp-id\": \"event-1\",\n            \"type\": \"events\",\n            \"method\": \"create\"\n          }\n        ]\n      }\n    }\n  },\n  \"included\": [\n    {\n      \"temp-id\": \"event-1\",\n      \"type\": \"events\",\n      \"attributes\": {\n        \"name\": \"Event\"\n      },\n      \"relationships\": {\n        \"shows\": {\n          \"data\": [\n            {\n              \"temp-id\": \"show-1\",\n              \"type\": \"shows\",\n              \"method\": \"create\"\n            }\n          ]\n        }\n      }\n    },\n    {\n      \"temp-id\": \"show-1\",\n      \"type\": \"shows\",\n      \"attributes\": {\n        \"name\": \"Show\",\n        \"order\": 0\n      },\n      \"relationships\": {\n        \"event\": {\n          \"data\": {\n            \"temp-id\": \"event-1\",\n            \"type\": \"events\",\n            \"method\": \"create\"\n          }\n        }\n      }\n    }\n  ]\n}`\n","import React from 'react';\n\nimport 'codemirror';\nimport { UnControlled as CodeMirror } from 'react-codemirror2';\nimport 'codemirror/mode/javascript/javascript';\nimport 'codemirror/lib/codemirror.css';\nimport 'codemirror/theme/solarized.css';\nimport 'codemirror/keymap/vim.js';\nimport 'codemirror/keymap/emacs.js';\n\nimport './JSONEditor.css';\n\nexport default class JSONEditor extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleOnChangeEditor = this.handleOnChangeEditor.bind(this);\n  }\n\n  handleOnChangeEditor(editor, data, value) {\n    let { removed, text } = data || {};\n    if (removed && text && removed[0] === text[0]) return;\n    this.props.onPayloadChanged(value);\n  }\n  render() {\n    return(\n      <div className={this.props.className}>\n        <CodeMirror\n          value={this.props.payload}\n          onChange={this.handleOnChangeEditor}\n          autoCursor={false}\n          options={{\n            lineNumbers: true,\n            keyMap: this.props.keyMap || 'default',\n            mode: { name: \"javascript\", json: true },\n            theme: 'solarized',\n            height: 'auto'\n          }}\n        />\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport './Toolbar.css';\n\nexport default function Toolbar(props) {\n  return (\n    <div className=\"toolbar\">\n      {props.children}\n    </div>\n  );\n}\n","export function safeJSONParse(str) {\n  if(typeof(str) !== 'string') return null;\n  try {\n    return JSON.parse(str);\n  } catch (_) {\n    return null;\n  }\n}\n\nexport function formattedJSON(obj) {\n  return JSON.stringify(obj, null, 2);\n}\n","import React from 'react';\n\nimport JSONEditor from './JSONEditor';\nimport Toolbar from './Toolbar';\n\nimport { formattedJSON } from '../utils/json';\n\nimport './EditorPane.css';\n\nexport default class EditorPane extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = { autoformat: true };\n    this.onAutoformattingToggle = this.onAutoformattingToggle.bind(this);\n    this.onKeyMapSelected = this.onKeyMapSelected.bind(this);\n  }\n\n  onAutoformattingToggle(event) {\n    let autoformat = event.target.checked;\n    this.setState({ autoformat });\n  }\n\n  onKeyMapSelected(event) {\n    let { value } = event.target;\n    let keyMap = value === 'vim' || value === 'emacs' ? value : 'default';\n    this.setState({ keyMap });\n  }\n\n  render() {\n    let {\n      className,\n      object,\n      payload,\n      onPayloadChanged\n    } = this.props;\n\n    let { autoformat, keyMap } = this.state;\n\n    if (object && autoformat) {\n      payload = formattedJSON(object);\n    }\n\n    return(\n      <div className={className}>\n\n        <Toolbar>\n          <input\n            className=\"autoformat\"\n            type=\"checkbox\"\n            onChange={this.onAutoformattingToggle}\n            checked={autoformat} /> Autoformat\n\n          <select\n            className=\"keyMap\"\n            onChange={this.onKeyMapSelected}>\n            <option value=\"default\">⌨ Default</option>\n            <option value=\"vim\">Vim</option>\n            <option value=\"emacs\">Emacs</option>\n          </select>\n\n        </Toolbar>\n\n        <JSONEditor\n          keyMap={keyMap}\n          payload={payload}\n          onPayloadChanged={onPayloadChanged} />\n\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport './SearchBar.css';\n\nexport default class Tree extends Component {\n  render() {\n    let {\n      handleSearchOnChange,\n      searchString,\n      selectPrevMatch,\n      selectNextMatch,\n      currentSearchIndex,\n      totalFound\n    } = this.props;\n\n    let stats = `${currentSearchIndex} / ${totalFound}`;\n    return (\n      <div className=\"searchBar\">\n        <label>Search: </label>\n        <input\n          onChange={handleSearchOnChange}\n          value={searchString}\n        />\n\n        { searchString && totalFound > 1 &&\n          <div className=\"control\">\n            <button className=\"previous\" onClick={selectPrevMatch}> ‹ </button>\n            <button className=\"next\" onClick={selectNextMatch}> › </button>\n            <label className=\"stats\"><span>{ stats }</span></label>\n          </div>\n        }\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport SortableTree from 'react-sortable-tree';\nimport 'react-sortable-tree/style.css';\nimport './TreeView.css';\nimport SearchBar from './SearchBar';\nimport Toolbar from './Toolbar';\n\nconst DEFAULT_ROW_HEIGHT = 62;\n\nexport default class TreeView extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      searchString: '',\n      currentSearchIndex: 0,\n      totalFound: 0,\n      treeData: [this.props.root]\n    };\n\n    this.onSearchStringChange = this.onSearchStringChange.bind(this);\n    this.selectPrevMatch = this.selectPrevMatch.bind(this);\n    this.selectNextMatch = this.selectNextMatch.bind(this);\n  }\n\n  onSearchStringChange(e) {\n    this.setState({ searchString: e.target.value });\n  };\n\n  selectPrevMatch() {\n    const { currentSearchIndex, totalFound } = this.state;\n    this.setState({\n      currentSearchIndex: currentSearchIndex !== null\n        ? (totalFound + currentSearchIndex - 1) % totalFound\n        : totalFound - 1\n    });\n  };\n\n  selectNextMatch () {\n    const { currentSearchIndex, totalFound } = this.state;\n    this.setState({\n      currentSearchIndex: currentSearchIndex !== null\n        ? (currentSearchIndex + 1) % totalFound\n        : 0\n    });\n  };\n\n  render() {\n    const {\n      treeData,\n      searchString,\n      currentSearchIndex,\n      totalFound\n    } = this.state;\n\n    return (\n      <div className=\"Tree-view\">\n        <Toolbar>\n          <SearchBar\n            searchString={searchString}\n            currentSearchIndex={currentSearchIndex + 1}\n            totalFound={totalFound}\n            handleSearchOnChange={this.onSearchStringChange}\n            selectPrevMatch={this.selectPrevMatch}\n            selectNextMatch={this.selectNextMatch}\n            />\n        </Toolbar>\n\n        <SortableTree\n          canDrag={false}\n          rowHeight={(object) => DEFAULT_ROW_HEIGHT + (object.node.subtitleHeight || 0)}\n          treeData={treeData}\n          style={{ height: 'auto' }}\n          onChange={(treeData) => this.setState({ treeData })}\n          searchQuery={searchString}\n          searchFocusOffset={currentSearchIndex}\n          searchFinishCallback={(matches) =>\n            this.setState({\n              totalFound: matches.length,\n              currentSearchIndex: matches.length > 0\n                ? currentSearchIndex % matches.length\n                : 0\n            })\n          } />\n      </div>\n    );\n  }\n}\n","const TEMP_ID = 'temp-id';\n\nexport default function serialize(object, cache = new Map()) {\n  if (!object.data) return {};\n  return serializeObject(object.data, object.included || [], cache);\n}\n\nfunction serializeObject(data, included, cache) {\n  let object = {\n    id: data.id,\n    tempId: data[TEMP_ID],\n    uuid: uuid(data),\n    type: data.type,\n    attributes: data.attributes || {},\n    method: data.method,\n    children: []\n  };\n\n  cache.set(object.uuid, object);\n\n  let { relationships } = data;\n\n  for (let key in relationships) {\n    let relationshipData = relationships[key][\"data\"];\n\n    if (Array.isArray(relationshipData)) {\n      let children = relationshipData\n        .map((relationship) => serializeRelationship(relationship, included, cache));\n      object.children.push(...children);\n    } else {\n      let child = serializeRelationship(relationshipData, included, cache);\n      object.children.push(child);\n    }\n  }\n\n  return object;\n}\n\nfunction serializeRelationship(data, included, cache) {\n  let visited_relation = cache.get(uuid(data));\n  if (visited_relation) {\n    return {\n      ...visited_relation,\n      circular: true,\n      children: []\n    }\n  }\n\n  let relationshipData = findInIncluded(data, included) || data;\n  let relationship = serializeObject(relationshipData, included, cache);\n\n  if (!relationship.method) relationship.method = data.method;\n\n  return relationship;\n}\n\nfunction findInIncluded(data, included) {\n  let { id, type, [TEMP_ID]: tempId } = data;\n\n  if (!!id) {\n    return included.find((data) => data.type === type && data.id === id);\n  } else if (!!tempId) {\n    return included.find((data) => data.type === type && data[TEMP_ID] === tempId);\n  }\n\n  return null;\n}\n\nfunction uuid(data) {\n  return `${data.type}-${data.id || data[TEMP_ID]}`;\n}\n","import React from 'react';\n\nexport default function decorateForTree(object) {\n  if (Object.keys(object).length === 0) return {};\n  object.expanded = true;\n  object.title = title(object);\n  object.subtitle = subtitle(object);\n  object.subtitleHeight = Object.keys(object.attributes).length * 11;\n\n  object.children.forEach((child) => decorateForTree(child));\n\n  return object;\n}\n\nfunction title(object) {\n  if (!object.id && !object.tempId) {\n    return object.type;\n  }\n\n  let attr = object.id ? 'id' : 'temp-id';\n  return [\n    object.type,\n    object.id || object.tempId,\n    attr,\n    object.method\n  ].filter((v) => v).join(' > ');\n}\n\nfunction subtitle(object) {\n  let attributeList = [];\n  for(let key in object.attributes) {\n    let value = object.attributes[key];\n    if (typeof(value) === 'object') {\n      value = JSON.stringify(value);\n    }\n    attributeList.push(\n      <li key={key}>{key}: {value}</li>\n    );\n  }\n  return (<ul>{ attributeList}</ul>);\n}\n","import React, { Component } from 'react';\nimport TreeView from './TreeView';\n\nimport serialize from '../utils/serialize';\nimport decorateForTree from '../utils/tree';\n\nexport default class ViewerPane extends Component {\n  render() {\n    let { object, className, hash } = this.props;\n    let rootObject = object ? decorateForTree(serialize(object)) : {};\n\n    return(\n      <div className={className}>\n        <TreeView root={rootObject} key={hash}/>\n      </div>\n    );\n  }\n}\n","export default function hashCode(str) {\n  var hash = 0, i, chr;\n  if (str.length === 0) return hash;\n  for (i = 0; i < str.length; i++) {\n    chr   = str.charCodeAt(i);\n    hash  = ((hash << 5) - hash) + chr;\n    hash |= 0; // Convert to 32bit integer\n  }\n  return hash;\n}\n","import React from 'react';\n\nimport payloadSample from './PayloadSample';\nimport EditorPane from './components/EditorPane';\nimport ViewerPane from './components/ViewerPane';\n\nimport { safeJSONParse } from './utils/json';\nimport hashCode from './utils/string';\n\nimport './App.css';\n\nexport default class App extends React.Component {\n  constructor(props) {\n    super(props);\n\n    let payload = payloadSample;\n    let object = safeJSONParse(payloadSample);\n    this.state = { payload, object };\n\n    this.onPayloadChanged = this.onPayloadChanged.bind(this);\n  }\n\n  onPayloadChanged(payload) {\n    let object = safeJSONParse(payload);\n    this.setState({ payload, object });\n  }\n\n  render() {\n    let { object, payload } = this.state;\n\n    return(\n      <div className=\"App\">\n        <EditorPane\n          className=\"splitpane\"\n          object={object}\n          payload={payload}\n          onPayloadChanged={this.onPayloadChanged}\n        />\n\n        <ViewerPane\n          className=\"splitpane\"\n          object={object}\n          hash={hashCode(payload)}\n        />\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n"],"sourceRoot":""}